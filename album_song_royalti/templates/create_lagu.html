<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Create Lagu</title>
</head>
<body>

    <h1>Create lagu untuk di Album {{judul_album}} - {{album_id}}</h1>
    <form method="post" action="{% url 'create_lagu' album_id %}">       
        {% csrf_token %}

        <h2>Lagu Pertama</h2>
        <label for="judul_lagu">Judul Lagu:</label>
        <input type="text" id="judul_lagu" name="judul_lagu" required><br>

        <label for="artist">Artist:</label>
        <select id="artist" name="artist">
            <option value="" selected disabled>Pilih Artist</option>
            {% if request.session.user_data.is_artist %}
                <option value="{{ request.session.user_data.nama }}">{{ request.session.user_data.nama }}</option>
            {% elif request.session.user_data.is_songwriter %}
                {% for artist in artists %}
                    <option value="{{ artist.email_akun }}">{{ artist.email_akun }}</option>
                {% endfor %}
            {% endif %}
        </select><br>

        <label for="songwriter">Songwriter:</label>
        {% if request.session.user_data.is_songwriter %}
            <input type="text" id="songwriter" name="songwriter_input" value="{{ request.session.user_data.nama }}" readonly><br>
            <h5>Anda adalah songwriter jadi anda otomatis masuk ke dalam songwriter. Silahkan pilih songwriter lainnya:</h5>
        {% endif %}
        <div>
            <label>Songwriter:</label><br>
            {% for songwriter in songwriters %}
                <input type="checkbox" id="songwriter_{{ songwriter.id }}" name="songwriter[]" value="{{ songwriter.id }}"
                    {% if user.is_songwriter and songwriter.id == request.session.user_data.id %}checked{% endif %}>
                <label for="songwriter_{{ songwriter.id }}">{{ songwriter }}</label><br>
            {% endfor %}
        </div>

        <label for="genre">Genre:</label>
        <div>
            <label>Genre:</label><br>
            {% for genre in genres %}
                <input type="checkbox" id="genre_{{ genre.id }}" name="genre[]" value="{{ genre.id }}">
                <label for="genre_{{ genre.id }}">{{ genre.genre }}</label><br>
            {% endfor %}
        </div>
        

        <label for="durasi">Durasi (menit):</label>
        <input type="number" id="durasi" name="durasi" required><br>

        <button type="submit">Submit</button>
    </form>
</body>
</html>
